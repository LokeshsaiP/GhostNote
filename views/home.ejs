<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />

    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <title>GhostNote</title>
  </head>
  <body class="bg-[#323232] text-[#ddd0c8] font-sans">
    <!-- Navbar -->
    <header class="bg-[#ddd0c8] text-[#323232] shadow-md">
      <nav
        class="container mx-auto px-6 py-4 flex justify-between items-center"
      >
        <a href="#" class="text-xl font-bold tracking-wide">GhostNote</a>
        <ul class="flex space-x-6 font-medium">
          <li><a href="#" class="hover:text-[#1f1f1f]">Home</a></li>
          <li><a href="#" class="hover:text-[#1f1f1f]">About</a></li>
          <li><a href="#" class="hover:text-[#1f1f1f]">Services</a></li>
          <% if (locals.user) { %>
          <li><a href="/logout" class="hover:text-[#1f1f1f]">Logout</a></li>
          <% } else { %>
          <li><a href="/login" class="hover:text-[#1f1f1f]">Login</a></li>
          <% } %>
        </ul>
      </nav>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-6 py-12">
      <!-- Welcome Message -->
      <section class="text-center mb-10">
        <% if(locals.user) { %>
        <h1 class="text-4xl font-bold mb-2">Welcome, <%= user %></h1>
        <% } else { %>
        <h1 class="text-4xl font-bold mb-2">Welcome to GhostNote</h1>
        <% } %>
        <p class="text-lg text-[#ccc]">
          Paste any secret message that you want to send.
        </p>
        <p class="italic font-semibold mt-1">Keep your sensitive data secure</p>
      </section>

      <!-- Secret Message Form -->
      <section class="max-w-2xl mx-auto bg-[#3d3d3d] rounded-lg shadow-lg p-6">
        <form action="/encrypt" method="POST" class="flex flex-col space-y-6">
          <label for="secret" class="text-lg font-medium">Your Secret</label>
          <textarea
            id="secret"
            name="secret"
            rows="6"
            placeholder="Enter your secret..."
            class="resize-none rounded-md p-4 bg-[#2b2b2b] border border-[#555] focus:outline-none focus:ring-2 focus:ring-[#ddd0c8] text-[#ddd0c8] placeholder-[#aaa]"
          ></textarea>
          <div>
            <label for="passphrase" class="block mb-6 text-lg"
              >Passphrase</label
            >
            <div class="relative w-full">
              <input
                type="password"
                id="passphrase"
                name="passphrase"
                placeholder="Enter Passphrase"
                class="border border-[#555] rounded-md bg-[#2b2b2b] p-4 pr-12 w-full focus:outline-none focus:ring-2 focus:ring-[#ddd0c8] text-[#ddd0c8]"
              />
              <button
                type="button"
                id="togglePassphrase"
                class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400"
              >
                <i class="fa-solid fa-eye-slash" id="eyeIcon"></i>
              </button>
            </div>
          </div>
          <div>
            <label for="expiration" class="block mb-6 text-lg font-medium"
              >Expires In</label
            >
            <div class="relative">
              <select
                id="expiration"
                name="expiration"
                class="appearance-none w-full bg-[#2b2b2b] border border-[#555] text-[#ddd0c8] text-base rounded-md py-3 px-4 pr-10 focus:outline-none focus:ring-2 focus:ring-[#ddd0c8] focus:border-[#ddd0c8] transition-all duration-200"
              >
                <option value="1m">Expires in 1 minute</option>
                <option value="5m">Expires in 5 minutes</option>
                <option value="15m">Expires in 15 minutes</option>
                <option value="30m">Expires in 30 minutes</option>
                <option value="1h">Expires in 1 hour</option>
                <option value="3h">Expires in 3 hours</option>
                <option value="10h">Expires in 10 hours</option>
                <option value="1d">Expires in 1 day</option>
                <option value="7d">Expires in 7 days</option>
              </select>
              <div
                class="pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3 text-[#aaa]"
              >
                <i class="fa-solid fa-chevron-down"></i>
              </div>
            </div>
          </div>
          <button
            type="submit"
            class="self-center bg-[#ddd0c8] text-[#323232] font-semibold px-6 py-2 rounded-md hover:bg-[#c9bdb3] transition-all duration-200 disabled:cursor-not-allowed"
          >
            Generate Link
          </button>
        </form>
      </section>
    </main>
    <script src="/main.js"></script>
  </body>
</html>
